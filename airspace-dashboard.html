<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Weather Tracker - AeroSure</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-teal: #00B4D8;
            --dark-teal: #0082A8;
            --alert-red: #ff3333;
            --warning-orange: #ff6b35;
            --success-green: #10b981;
            --dark-bg: #0f172a;
            --darker-bg: #020617;
            --gray-900: #111827;
            --gray-400: #9ca3af;
            --white: #ffffff;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--dark-bg);
            color: var(--white);
            line-height: 1.6;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .back-link {
            background: rgba(14, 165, 233, 0.1);
            border: 1px solid rgba(14, 165, 233, 0.3);
            color: var(--primary-teal);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            text-decoration: none;
            font-size: 0.875rem;
            transition: all 0.3s;
        }

        .back-link:hover {
            background: rgba(14, 165, 233, 0.2);
        }

        .nav-links {
            display: flex;
            gap: 1rem;
        }

        .nav-link {
            color: var(--gray-400);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.3s;
            font-size: 0.875rem;
        }

        .nav-link:hover {
            color: var(--white);
            background: rgba(255, 255, 255, 0.05);
        }

        .nav-link.active {
            color: var(--primary-teal);
            background: rgba(14, 165, 233, 0.1);
            border: 1px solid rgba(14, 165, 233, 0.3);
        }

        /* Hero Section */
        .hero-section {
            padding: 7rem 2rem 3rem;
            background: linear-gradient(135deg, rgba(0, 180, 216, 0.1) 0%, rgba(15, 23, 42, 0.8) 100%);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .hero-content {
            max-width: 1400px;
            margin: 0 auto;
            text-align: center;
        }

        h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            background: linear-gradient(135deg, var(--primary-teal) 0%, var(--white) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .subtitle {
            color: var(--gray-400);
            font-size: 1.25rem;
            margin-bottom: 2rem;
        }

        /* Status Banner */
        .status-banner {
            background: rgba(16, 185, 129, 0.1);
            border: 2px solid var(--success-green);
            border-radius: 12px;
            padding: 1.5rem;
            display: inline-flex;
            align-items: center;
            gap: 1rem;
        }

        .status-banner.warning {
            background: rgba(255, 107, 53, 0.1);
            border-color: var(--warning-orange);
        }

        .status-banner.danger {
            background: rgba(255, 51, 51, 0.1);
            border-color: var(--alert-red);
        }

        .status-icon {
            font-size: 2rem;
        }

        /* Main Dashboard */
        .dashboard {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Current Conditions Card */
        .current-conditions {
            background: linear-gradient(135deg, rgba(0, 180, 216, 0.1), rgba(0, 180, 216, 0.05));
            border: 1px solid rgba(0, 180, 216, 0.3);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .conditions-grid {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 2rem;
            align-items: center;
        }

        .main-temp {
            text-align: center;
        }

        .temp-value {
            font-size: 5rem;
            font-weight: 700;
            color: var(--primary-teal);
            line-height: 1;
        }

        .temp-desc {
            font-size: 1.25rem;
            margin-top: 0.5rem;
            color: var(--gray-400);
        }

        .condition-item {
            text-align: center;
        }

        .condition-value {
            font-size: 2rem;
            font-weight: 600;
            color: var(--white);
            margin-bottom: 0.25rem;
        }

        .condition-label {
            font-size: 0.875rem;
            color: var(--gray-400);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Flight Decision Panel */
        .flight-decision {
            background: var(--gray-900);
            border: 2px solid var(--primary-teal);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .decision-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .decision-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
        }

        .decision-metric {
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            border-radius: 8px;
            border-left: 3px solid var(--success-green);
        }

        .decision-metric.warning {
            border-left-color: var(--warning-orange);
        }

        .decision-metric.danger {
            border-left-color: var(--alert-red);
        }

        .metric-label {
            font-size: 0.75rem;
            color: var(--gray-400);
            text-transform: uppercase;
            margin-bottom: 0.25rem;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: 600;
        }

        /* 7-Day Forecast */
        .forecast-section {
            margin-bottom: 2rem;
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .section-header h2 {
            font-size: 1.75rem;
        }

        .forecast-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1rem;
        }

        .forecast-day {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1.5rem 1rem;
            text-align: center;
            transition: all 0.3s;
        }

        .forecast-day:hover {
            transform: translateY(-4px);
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(0, 180, 216, 0.3);
        }

        .forecast-day.today {
            border-color: var(--primary-teal);
            background: rgba(0, 180, 216, 0.05);
        }

        .day-name {
            font-size: 0.875rem;
            color: var(--gray-400);
            margin-bottom: 0.5rem;
        }

        .day-date {
            font-size: 0.75rem;
            color: var(--gray-400);
            margin-bottom: 1rem;
        }

        .weather-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .temp-range {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
        }

        .temp-high {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .temp-low {
            font-size: 1.25rem;
            color: var(--gray-400);
        }

        .conditions-summary {
            font-size: 0.75rem;
            color: var(--gray-400);
        }

        .flight-indicator {
            margin-top: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .flight-go {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success-green);
        }

        .flight-caution {
            background: rgba(255, 107, 53, 0.2);
            color: var(--warning-orange);
        }

        .flight-no-go {
            background: rgba(255, 51, 51, 0.2);
            color: var(--alert-red);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .forecast-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (max-width: 768px) {
            .conditions-grid {
                grid-template-columns: 1fr;
            }

            .decision-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .forecast-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .nav-links {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="nav-left">
                <a href="index.html" class="back-link">
                    <i class="fas fa-arrow-left"></i> Back to AeroSure
                </a>
            </div>
            <div class="nav-links">
                <a href="weather-tracker.html" class="nav-link active">
                    <i class="fas fa-wind"></i> Weather
                </a>
                <a href="airspace-dashboard.html" class="nav-link">
                    <i class="fas fa-plane"></i> Airspace
                </a>
                <a href="storm-tracker.html" class="nav-link">
                    <i class="fas fa-hurricane"></i> Storms
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <h1>Flight Weather Tracker</h1>
            <p class="subtitle">Real-time conditions for drone operations in Richmond Metro</p>
            
            <div class="status-banner" id="statusBanner">
                <div class="status-icon">
                    <i class="fas fa-check-circle" style="color: var(--success-green);"></i>
                </div>
                <div>
                    <div style="font-size: 1.25rem; font-weight: 600;">CONDITIONS: GO</div>
                    <div style="font-size: 0.875rem; color: var(--gray-400);">
                        All systems favorable for flight operations
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Dashboard -->
    <div class="dashboard">
        <!-- Current Conditions -->
        <div class="current-conditions">
            <div class="conditions-grid">
                <div class="main-temp">
                    <div class="temp-value" id="currentTemp">--°</div>
                    <div class="temp-desc" id="currentDesc">Loading...</div>
                    <div style="margin-top: 1rem; color: var(--gray-400); font-size: 0.875rem;">
                        Feels like <span id="feelsLike">--°</span>
                    </div>
                </div>

                <div class="condition-item">
                    <div class="condition-value" id="windSpeed">-- mph</div>
                    <div class="condition-label">Wind Speed</div>
                    <div style="margin-top: 0.5rem; font-size: 0.875rem; color: var(--gray-400);">
                        <i class="fas fa-arrow-up" id="windDirection" style="transform: rotate(0deg);"></i>
                        <span id="windDir">N</span>
                    </div>
                </div>

                <div class="condition-item">
                    <div class="condition-value" id="visibility">-- mi</div>
                    <div class="condition-label">Visibility</div>
                    <div style="margin-top: 0.5rem; font-size: 0.875rem; color: var(--gray-400);" id="visibilityQuality">
                        Excellent
                    </div>
                </div>

                <div class="condition-item">
                    <div class="condition-value" id="humidity">--%</div>
                    <div class="condition-label">Humidity</div>
                    <div style="margin-top: 0.5rem; font-size: 0.875rem; color: var(--gray-400);" id="dewPoint">
                        Dew: --°
                    </div>
                </div>
            </div>
        </div>

        <!-- Flight Decision Panel -->
        <div class="flight-decision">
            <div class="decision-header">
                <h2 style="color: var(--primary-teal);">
                    <i class="fas fa-clipboard-check"></i> Flight Criteria Status
                </h2>
                <div style="font-size: 0.875rem; color: var(--gray-400);">
                    Updated: <span id="lastUpdate">--</span>
                </div>
            </div>
            <div class="decision-grid">
                <div class="decision-metric" id="windMetric">
                    <div class="metric-label">Wind Threshold</div>
                    <div class="metric-value" id="windStatus">SAFE</div>
                </div>
                <div class="decision-metric" id="visMetric">
                    <div class="metric-label">Visibility</div>
                    <div class="metric-value" id="visStatus">CLEAR</div>
                </div>
                <div class="decision-metric" id="precipMetric">
                    <div class="metric-label">Precipitation</div>
                    <div class="metric-value" id="precipStatus">NONE</div>
                </div>
                <div class="decision-metric" id="tempMetric">
                    <div class="metric-label">Temperature</div>
                    <div class="metric-value" id="tempStatus">OPTIMAL</div>
                </div>
            </div>
        </div>

        <!-- 7-Day Forecast -->
        <div class="forecast-section">
            <div class="section-header">
                <i class="fas fa-calendar-week" style="color: var(--primary-teal); font-size: 1.5rem;"></i>
                <h2>7-Day Flight Forecast</h2>
            </div>
            <div class="forecast-grid" id="forecastGrid">
                <!-- Forecast days will be populated here -->
            </div>
        </div>

        <!-- Data Source Info -->
        <div style="text-align: center; margin-top: 3rem; padding: 2rem; background: rgba(0, 180, 216, 0.05); border: 1px solid rgba(0, 180, 216, 0.2); border-radius: 12px;">
            <p style="color: var(--gray-400); margin-bottom: 0.5rem;">
                <i class="fas fa-satellite"></i> Data sourced from OpenWeatherMap & National Weather Service
            </p>
            <p style="color: var(--gray-400); font-size: 0.875rem;">
                Updates every 5 minutes during operational hours • FAA Part 107 compliant weather monitoring
            </p>
        </div>
    </div>

    <script>
        // OpenWeatherMap API Key
        const API_KEY = '96a0c5d3ea09e85deea208f1d1a805af';
        const RICHMOND_LAT = 37.5407;
        const RICHMOND_LON = -77.4360;

        // Get current weather
        async function getCurrentWeather() {
            try {
                const response = await fetch(
                    `https://api.openweathermap.org/data/2.5/weather?lat=${RICHMOND_LAT}&lon=${RICHMOND_LON}&appid=${API_KEY}&units=imperial`
                );
                const data = await response.json();
                
                updateCurrentConditions(data);
                updateFlightDecision(data);
                updateStatusBanner(data);
            } catch (error) {
                console.error('Error fetching current weather:', error);
            }
        }

        // Get 7-day forecast
        async function getForecast() {
            try {
                const response = await fetch(
                    `https://api.openweathermap.org/data/2.5/forecast?lat=${RICHMOND_LAT}&lon=${RICHMOND_LON}&appid=${API_KEY}&units=imperial&cnt=56`
                );
                const data = await response.json();
                
                updateForecast(data);
            } catch (error) {
                console.error('Error fetching forecast:', error);
            }
        }

        function updateCurrentConditions(data) {
            document.getElementById('currentTemp').textContent = Math.round(data.main.temp) + '°';
            document.getElementById('currentDesc').textContent = data.weather[0].description.charAt(0).toUpperCase() + data.weather[0].description.slice(1);
            document.getElementById('feelsLike').textContent = Math.round(data.main.feels_like) + '°';
            
            document.getElementById('windSpeed').textContent = Math.round(data.wind.speed) + ' mph';
            document.getElementById('windDirection').style.transform = `rotate(${data.wind.deg}deg)`;
            document.getElementById('windDir').textContent = getWindDirection(data.wind.deg);
            
            const visibilityMiles = (data.visibility / 1609.34).toFixed(1);
            document.getElementById('visibility').textContent = visibilityMiles + ' mi';
            document.getElementById('visibilityQuality').textContent = 
                visibilityMiles >= 5 ? 'Excellent' : visibilityMiles >= 3 ? 'Good' : 'Limited';
            
            document.getElementById('humidity').textContent = data.main.humidity + '%';
            
            const dewPoint = data.main.temp - ((100 - data.main.humidity) / 5);
            document.getElementById('dewPoint').textContent = 'Dew: ' + Math.round(dewPoint) + '°';
            
            document.getElementById('lastUpdate').textContent = new Date().toLocaleTimeString('en-US', { 
                hour: 'numeric', 
                minute: '2-digit' 
            });
        }

        function updateFlightDecision(data) {
            // Wind check (< 25 mph is safe, 25-30 is caution, >30 is no-go)
            const windMetric = document.getElementById('windMetric');
            const windStatus = document.getElementById('windStatus');
            if (data.wind.speed < 25) {
                windMetric.className = 'decision-metric';
                windStatus.textContent = 'SAFE';
            } else if (data.wind.speed < 30) {
                windMetric.className = 'decision-metric warning';
                windStatus.textContent = 'CAUTION';
            } else {
                windMetric.className = 'decision-metric danger';
                windStatus.textContent = 'NO-GO';
            }

            // Visibility check
            const visMetric = document.getElementById('visMetric');
            const visStatus = document.getElementById('visStatus');
            const visMiles = data.visibility / 1609.34;
            if (visMiles >= 3) {
                visMetric.className = 'decision-metric';
                visStatus.textContent = 'CLEAR';
            } else if (visMiles >= 1) {
                visMetric.className = 'decision-metric warning';
                visStatus.textContent = 'LIMITED';
            } else {
                visMetric.className = 'decision-metric danger';
                visStatus.textContent = 'POOR';
            }

            // Precipitation check
            const precipMetric = document.getElementById('precipMetric');
            const precipStatus = document.getElementById('precipStatus');
            if (data.weather[0].main === 'Rain' || data.weather[0].main === 'Snow') {
                precipMetric.className = 'decision-metric danger';
                precipStatus.textContent = 'ACTIVE';
            } else if (data.weather[0].main === 'Clouds' && data.clouds.all > 80) {
                precipMetric.className = 'decision-metric warning';
                precipStatus.textContent = 'RISK';
            } else {
                precipMetric.className = 'decision-metric';
                precipStatus.textContent = 'NONE';
            }

            // Temperature check (32-95°F is optimal)
            const tempMetric = document.getElementById('tempMetric');
            const tempStatus = document.getElementById('tempStatus');
            if (data.main.temp >= 40 && data.main.temp <= 90) {
                tempMetric.className = 'decision-metric';
                tempStatus.textContent = 'OPTIMAL';
            } else if (data.main.temp >= 32 && data.main.temp <= 95) {
                tempMetric.className = 'decision-metric warning';
                tempStatus.textContent = 'MARGINAL';
            } else {
                tempMetric.className = 'decision-metric danger';
                tempStatus.textContent = 'EXTREME';
            }
        }

        function updateStatusBanner(data) {
            const banner = document.getElementById('statusBanner');
            const isGoodWind = data.wind.speed < 25;
            const isGoodVis = (data.visibility / 1609.34) >= 3;
            const isGoodPrecip = data.weather[0].main !== 'Rain' && data.weather[0].main !== 'Snow';
            const isGoodTemp = data.main.temp >= 40 && data.main.temp <= 90;

            if (isGoodWind && isGoodVis && isGoodPrecip && isGoodTemp) {
                banner.className = 'status-banner';
                banner.querySelector('.status-icon i').className = 'fas fa-check-circle';
                banner.querySelector('.status-icon i').style.color = 'var(--success-green)';
                banner.querySelector('div > div:first-child').textContent = 'CONDITIONS: GO';
                banner.querySelector('div > div:last-child').textContent = 'All systems favorable for flight operations';
            } else if (!isGoodPrecip || !isGoodVis || data.wind.speed >= 30) {
                banner.className = 'status-banner danger';
                banner.querySelector('.status-icon i').className = 'fas fa-times-circle';
                banner.querySelector('.status-icon i').style.color = 'var(--alert-red)';
                banner.querySelector('div > div:first-child').textContent = 'CONDITIONS: NO-GO';
                banner.querySelector('div > div:last-child').textContent = 'Weather not suitable for safe drone operations';
            } else {
                banner.className = 'status-banner warning';
                banner.querySelector('.status-icon i').className = 'fas fa-exclamation-triangle';
                banner.querySelector('.status-icon i').style.color = 'var(--warning-orange)';
                banner.querySelector('div > div:first-child').textContent = 'CONDITIONS: CAUTION';
                banner.querySelector('div > div:last-child').textContent = 'Marginal conditions - assess carefully before flight';
            }
        }

        function updateForecast(data) {
            const forecastGrid = document.getElementById('forecastGrid');
            forecastGrid.innerHTML = '';

            // Group forecasts by day
            const dailyForecasts = {};
            data.list.forEach(item => {
                const date = new Date(item.dt * 1000);
                const dateKey = date.toLocaleDateString('en-US');
                
                if (!dailyForecasts[dateKey]) {
                    dailyForecasts[dateKey] = {
                        date: date,
                        temps: [],
                        conditions: [],
                        wind: [],
                        precipitation: []
                    };
                }
                
                dailyForecasts[dateKey].temps.push(item.main.temp);
                dailyForecasts[dateKey].conditions.push(item.weather[0]);
                dailyForecasts[dateKey].wind.push(item.wind.speed);
                if (item.rain) dailyForecasts[dateKey].precipitation.push(item.rain['3h'] || 0);
            });

            // Display first 7 days
            const days = Object.values(dailyForecasts).slice(0, 7);
            const today = new Date().toLocaleDateString('en-US');

            days.forEach((day, index) => {
                const maxTemp = Math.round(Math.max(...day.temps));
                const minTemp = Math.round(Math.min(...day.temps));
                const avgWind = Math.round(day.wind.reduce((a, b) => a + b, 0) / day.wind.length);
                const hasPrecip = day.precipitation.length > 0;
                
                // Determine predominant weather condition
                const conditionCounts = {};
                day.conditions.forEach(c => {
                    conditionCounts[c.main] = (conditionCounts[c.main] || 0) + 1;
                });
                const predominantCondition = Object.keys(conditionCounts).reduce((a, b) => 
                    conditionCounts[a] > conditionCounts[b] ? a : b
                );

                // Flight assessment
                let flightClass = 'flight-go';
                let flightText = 'GO';
                if (avgWind >= 25 || hasPrecip || predominantCondition === 'Rain' || predominantCondition === 'Snow') {
                    flightClass = 'flight-no-go';
                    flightText = 'NO-GO';
                } else if (avgWind >= 20 || predominantCondition === 'Clouds') {
                    flightClass = 'flight-caution';
                    flightText = 'CAUTION';
                }

                const dayCard = document.createElement('div');
                dayCard.className = 'forecast-day' + (day.date.toLocaleDateString('en-US') === today ? ' today' : '');
                dayCard.innerHTML = `
                    <div class="day-name">${day.date.toLocaleDateString('en-US', { weekday: 'short' })}</div>
                    <div class="day-date">${day.date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}</div>
                    <div class="weather-icon">${getWeatherIcon(predominantCondition)}</div>
                    <div class="temp-range">
                        <span class="temp-high">${maxTemp}°</span>
                        <span class="temp-low">${minTemp}°</span>
                    </div>
                    <div class="conditions-summary">
                        <i class="fas fa-wind"></i> ${avgWind} mph
                    </div>
                    <div class="flight-indicator ${flightClass}">${flightText}</div>
                `;
                forecastGrid.appendChild(dayCard);
            });
        }

        function getWeatherIcon(condition) {
            const icons = {
                'Clear': '<i class="fas fa-sun" style="color: #fbbf24;"></i>',
                'Clouds': '<i class="fas fa-cloud" style="color: #9ca3af;"></i>',
                'Rain': '<i class="fas fa-cloud-rain" style="color: #60a5fa;"></i>',
                'Drizzle': '<i class="fas fa-cloud-rain" style="color: #60a5fa;"></i>',
                'Thunderstorm': '<i class="fas fa-bolt" style="color: #ff6b35;"></i>',
                'Snow': '<i class="fas fa-snowflake" style="color: #e0f2fe;"></i>',
                'Mist': '<i class="fas fa-smog" style="color: #9ca3af;"></i>',
                'Fog': '<i class="fas fa-smog" style="color: #9ca3af;"></i>'
            };
            return icons[condition] || '<i class="fas fa-cloud" style="color: #9ca3af;"></i>';
        }

        function getWindDirection(degrees) {
            const directions = ['N', 'NNE', 'NE', 'ENE', 'E', 'ESE', 'SE', 'SSE', 
                              'S', 'SSW', 'SW', 'WSW', 'W', 'WNW', 'NW', 'NNW'];
            const index = Math.round(degrees / 22.5) % 16;
            return directions[index];
        }

        // Initialize
        getCurrentWeather();
        getForecast();
        
        // Refresh every 5 minutes
        setInterval(() => {
            getCurrentWeather();
            getForecast();
        }, 300000);
    </script>
</body>
</html>
