<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Storm Tracker - AeroSure Emergency Response</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-teal: #00B4D8;
            --dark-teal: #0082A8;
            --alert-red: #ff3333;
            --warning-orange: #ff6b35;
            --success-green: #10b981;
            --dark-bg: #0f172a;
            --darker-bg: #020617;
            --gray-900: #111827;
            --gray-400: #9ca3af;
            --white: #ffffff;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--dark-bg);
            color: var(--white);
            line-height: 1.6;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .back-link {
            background: rgba(14, 165, 233, 0.1);
            border: 1px solid rgba(14, 165, 233, 0.3);
            color: var(--primary-teal);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            text-decoration: none;
            font-size: 0.875rem;
            transition: all 0.3s;
        }

        .back-link:hover {
            background: rgba(14, 165, 233, 0.2);
        }

        .nav-links {
            display: flex;
            gap: 1rem;
        }

        .nav-link {
            color: var(--gray-400);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.3s;
            font-size: 0.875rem;
        }

        .nav-link:hover {
            color: var(--white);
            background: rgba(255, 255, 255, 0.05);
        }

        .nav-link.active {
            color: var(--warning-orange);
            background: rgba(255, 107, 53, 0.1);
            border: 1px solid rgba(255, 107, 53, 0.3);
        }

        /* Hero Section */
        .hero-section {
            padding: 7rem 2rem 3rem;
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.1) 0%, rgba(0, 180, 216, 0.05) 100%);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .hero-content {
            max-width: 1400px;
            margin: 0 auto;
            text-align: center;
        }

        h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            background: linear-gradient(135deg, var(--warning-orange) 0%, var(--primary-teal) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .subtitle {
            color: var(--gray-400);
            font-size: 1.25rem;
            margin-bottom: 2rem;
        }

        /* Data Source Indicator */
        .data-source-banner {
            background: rgba(16, 185, 129, 0.05);
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: 12px;
            padding: 1rem 2rem;
            display: inline-flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .data-source-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.25rem 0.75rem;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 50px;
            font-size: 0.875rem;
            color: var(--success-green);
        }

        /* Main Dashboard */
        .dashboard {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Emergency Response Banner */
        .emergency-banner {
            background: linear-gradient(135deg, rgba(255, 51, 51, 0.1), rgba(255, 107, 53, 0.05));
            border: 2px solid rgba(255, 51, 51, 0.3);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            display: none;
        }

        .emergency-banner.active {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .emergency-content h2 {
            color: var(--alert-red);
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .emergency-content p {
            color: var(--gray-400);
            margin-bottom: 1rem;
        }

        .emergency-cta {
            background: var(--alert-red);
            color: var(--white);
            padding: 0.75rem 2rem;
            border-radius: 8px;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s;
        }

        .emergency-cta:hover {
            background: #ff4444;
            transform: translateY(-2px);
        }

        /* Storm Map Container */
        .map-section {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .map-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .map-title {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .map-title h2 {
            font-size: 1.75rem;
        }

        .hurricane-icon {
            color: var(--warning-orange);
            animation: spin 4s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .last-update {
            font-size: 0.875rem;
            color: var(--gray-400);
        }

        #stormMap {
            height: 500px;
            border-radius: 12px;
            margin-bottom: 1rem;
        }

        /* No Storms State */
        .no-storms {
            text-align: center;
            padding: 4rem 2rem;
            background: rgba(16, 185, 129, 0.05);
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: 16px;
            margin-bottom: 2rem;
        }

        .no-storms i {
            font-size: 4rem;
            color: var(--success-green);
            margin-bottom: 1rem;
        }

        .no-storms h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        /* Resource Links */
        .resource-section {
            background: rgba(0, 180, 216, 0.05);
            border: 1px solid rgba(0, 180, 216, 0.2);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .resource-section h2 {
            color: var(--primary-teal);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .resource-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .resource-card {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s;
        }

        .resource-card:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateY(-2px);
        }

        .resource-card h3 {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
            color: var(--primary-teal);
        }

        .resource-card p {
            color: var(--gray-400);
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .resource-link {
            display: inline-block;
            color: var(--primary-teal);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
        }

        .resource-link:hover {
            color: var(--white);
        }

        /* Footer Info */
        .footer-info {
            background: rgba(14, 165, 233, 0.05);
            border: 1px solid rgba(14, 165, 233, 0.2);
            border-radius: 12px;
            padding: 2rem;
            margin-top: 3rem;
            text-align: center;
        }

        .footer-info h3 {
            color: var(--primary-teal);
            margin-bottom: 1rem;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-top: 1.5rem;
        }

        .info-item {
            text-align: center;
        }

        .info-item i {
            font-size: 2rem;
            color: var(--primary-teal);
            margin-bottom: 0.5rem;
        }

        .info-label {
            font-size: 0.875rem;
            color: var(--gray-400);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero-section {
                padding: 6rem 1rem 2rem;
            }

            .emergency-banner.active {
                flex-direction: column;
                text-align: center;
            }

            .nav-links {
                display: none;
            }

            .resource-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="nav-left">
                <a href="index.html" class="back-link">
                    <i class="fas fa-arrow-left"></i> Back to AeroSure
                </a>
            </div>
            <div class="nav-links">
                <a href="weather-tracker.html" class="nav-link">
                    <i class="fas fa-wind"></i> Weather
                </a>
                <a href="airspace-dashboard.html" class="nav-link">
                    <i class="fas fa-plane"></i> Airspace
                </a>
                <a href="storm-tracker.html" class="nav-link active">
                    <i class="fas fa-hurricane"></i> Storms
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <h1>Storm Tracker</h1>
            <p class="subtitle">Professional storm monitoring for emergency response operations</p>
            
            <div class="data-source-banner">
                <div class="data-source-badge">
                    <i class="fas fa-satellite"></i>
                    <span>NOAA/NHC Official Data</span>
                </div>
                <span style="color: var(--gray-400); font-size: 0.875rem;">
                    Professional-grade tropical storm tracking
                </span>
            </div>
        </div>
    </section>

    <!-- Main Dashboard -->
    <div class="dashboard">
        <!-- Emergency Response Banner (Hidden by default, shown when storms approach) -->
        <div class="emergency-banner" id="emergencyBanner">
            <div class="emergency-content">
                <h2>Storm Response Active</h2>
                <p>Emergency inspection services available for storm-affected properties</p>
                <ul style="list-style: none; margin-bottom: 1rem;">
                    <li>✓ 2-hour emergency response</li>
                    <li>✓ Insurance-grade documentation</li>
                    <li>✓ Direct carrier submission</li>
                </ul>
            </div>
            <div>
                <a href="stormcheck.html" class="emergency-cta">
                    <i class="fas fa-bolt"></i> Activate StormCheck™
                </a>
            </div>
        </div>

        <!-- Storm Map Section -->
        <div class="map-section">
            <div class="map-header">
                <div class="map-title">
                    <i class="fas fa-hurricane hurricane-icon" style="font-size: 2rem;"></i>
                    <h2>Active Tropical Systems</h2>
                </div>
                <div class="last-update">
                    Updated: <span id="lastUpdate">September 30, 2025 12:00 PM EDT</span>
                </div>
            </div>
            <div id="stormMap"></div>
            <div style="display: flex; justify-content: center; gap: 2rem; margin-top: 1rem; flex-wrap: wrap;">
                <span style="font-size: 0.875rem; color: var(--gray-400);">
                    <i class="fas fa-circle" style="color: #ff0000;"></i> Cat 5
                </span>
                <span style="font-size: 0.875rem; color: var(--gray-400);">
                    <i class="fas fa-circle" style="color: #ff4500;"></i> Cat 4
                </span>
                <span style="font-size: 0.875rem; color: var(--gray-400);">
                    <i class="fas fa-circle" style="color: #ff8c00;"></i> Cat 3
                </span>
                <span style="font-size: 0.875rem; color: var(--gray-400);">
                    <i class="fas fa-circle" style="color: #ffd700;"></i> Cat 2
                </span>
                <span style="font-size: 0.875rem; color: var(--gray-400);">
                    <i class="fas fa-circle" style="color: #ffff00;"></i> Cat 1
                </span>
                <span style="font-size: 0.875rem; color: var(--gray-400);">
                    <i class="fas fa-circle" style="color: #87ceeb;"></i> TS
                </span>
            </div>
        </div>

        <!-- No Active Storms Message -->
        <div class="no-storms">
            <i class="fas fa-check-circle"></i>
            <h3>No Active Tropical Systems Currently Monitored</h3>
            <p style="color: var(--gray-400); margin-top: 0.5rem;">
                Atlantic basin is currently quiet. AeroSure continues 24/7 monitoring during hurricane season (June 1 - November 30).
            </p>
            <p style="color: var(--gray-400); margin-top: 1rem; font-size: 0.875rem;">
                When storms develop, this page will display real-time tracking, threat assessments, and emergency response capabilities.
            </p>
        </div>

        <!-- Official Storm Tracking Resources -->
        <div class="resource-section">
            <h2><i class="fas fa-link"></i> Official Storm Tracking Resources</h2>
            <div class="resource-grid">
                <div class="resource-card">
                    <h3><i class="fas fa-hurricane"></i> National Hurricane Center</h3>
                    <p>Official tropical weather outlooks, forecasts, and active storm tracking from NOAA's National Hurricane Center.</p>
                    <a href="https://www.nhc.noaa.gov/" target="_blank" class="resource-link">
                        Visit NHC <i class="fas fa-external-link-alt" style="font-size: 0.75rem;"></i>
                    </a>
                </div>

                <div class="resource-card">
                    <h3><i class="fas fa-chart-line"></i> Tropical Tidbits</h3>
                    <p>Advanced tropical analysis, model guidance, and expert meteorological insights for storm tracking.</p>
                    <a href="https://www.tropicaltidbits.com/" target="_blank" class="resource-link">
                        Visit Tropical Tidbits <i class="fas fa-external-link-alt" style="font-size: 0.75rem;"></i>
                    </a>
                </div>

                <div class="resource-card">
                    <h3><i class="fas fa-wind"></i> Weather Underground</h3>
                    <p>Comprehensive tropical weather tracking with interactive maps and community storm reports.</p>
                    <a href="https://www.wunderground.com/hurricane" target="_blank" class="resource-link">
                        Visit Wunderground <i class="fas fa-external-link-alt" style="font-size: 0.75rem;"></i>
                    </a>
                </div>

                <div class="resource-card">
                    <h3><i class="fas fa-globe-americas"></i> Windy</h3>
                    <p>Real-time wind patterns, storm surge predictions, and advanced weather visualization tools.</p>
                    <a href="https://www.windy.com/" target="_blank" class="resource-link">
                        Visit Windy <i class="fas fa-external-link-alt" style="font-size: 0.75rem;"></i>
                    </a>
                </div>

                <div class="resource-card">
                    <h3><i class="fas fa-broadcast-tower"></i> NOAA Weather Radio</h3>
                    <p>Critical weather alerts and emergency information direct from the National Weather Service.</p>
                    <a href="https://www.weather.gov/nwr/" target="_blank" class="resource-link">
                        Visit NWR <i class="fas fa-external-link-alt" style="font-size: 0.75rem;"></i>
                    </a>
                </div>

                <div class="resource-card">
                    <h3><i class="fas fa-satellite"></i> CIMSS Tropical</h3>
                    <p>Satellite imagery, model loops, and advanced tropical cyclone analysis from University of Wisconsin.</p>
                    <a href="http://tropic.ssec.wisc.edu/" target="_blank" class="resource-link">
                        Visit CIMSS <i class="fas fa-external-link-alt" style="font-size: 0.75rem;"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Footer Info -->
        <div class="footer-info">
            <h3>AeroSure Storm Response Network</h3>
            <p style="color: var(--gray-400); margin-bottom: 1.5rem;">
                Integrated monitoring with rapid deployment capabilities
            </p>
            <div class="info-grid">
                <div class="info-item">
                    <i class="fas fa-satellite"></i>
                    <div class="info-label">NOAA/NHC Data</div>
                </div>
                <div class="info-item">
                    <i class="fas fa-bolt"></i>
                    <div class="info-label">2-Hour Response</div>
                </div>
                <div class="info-item">
                    <i class="fas fa-shield-alt"></i>
                    <div class="info-label">Insurance Grade</div>
                </div>
                <div class="info-item">
                    <i class="fas fa-clock"></i>
                    <div class="info-label">24/7 Monitoring</div>
                </div>
            </div>
            <p style="color: var(--gray-400); margin-top: 1.5rem; font-size: 0.875rem;">
                During active storm events, this page provides real-time tracking and emergency response coordination
            </p>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Initialize map centered on Richmond, VA with coverage area
        function initMap() {
            const map = L.map('stormMap').setView([32, -70], 4);
            
            // Dark theme map
            L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
                attribution: '© CARTO',
                subdomains: 'abcd',
                maxZoom: 19
            }).addTo(map);

            // Add Richmond base marker
            const richmondIcon = L.divIcon({
                html: '<i class="fas fa-home" style="color: #00B4D8; font-size: 24px; filter: drop-shadow(0 0 3px rgba(0,0,0,0.8));"></i>',
                iconSize: [24, 24],
                className: 'richmond-base'
            });

            L.marker([37.505, -77.319], { icon: richmondIcon })
                .addTo(map)
                .bindPopup('<b>Richmond, VA</b><br>AeroSure Operations Base');

            // Add 300-mile operational radius
            L.circle([37.505, -77.319], {
                radius: 482803, // 300 miles in meters
                color: '#00B4D8',
                fillColor: '#00B4D8',
                fillOpacity: 0.05,
                weight: 2,
                dashArray: '5, 10'
            }).addTo(map).bindPopup('300-mile operational radius');

            // Add 600-mile monitoring radius
            L.circle([37.505, -77.319], {
                radius: 965606, // 600 miles in meters
                color: '#ff6b35',
                fillColor: '#ff6b35',
                fillOpacity: 0.03,
                weight: 1,
                dashArray: '5, 10'
            }).addTo(map).bindPopup('600-mile monitoring radius');

            // Add Atlantic hurricane development zones
            const atlanticBox = [
                [8, -85],
                [8, -20],
                [35, -20],
                [35, -85],
                [8, -85]
            ];

            L.polyline(atlanticBox, {
                color: 'rgba(255, 107, 53, 0.3)',
                weight: 2,
                dashArray: '10, 5'
            }).addTo(map).bindPopup('Atlantic Hurricane Development Zone');
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initMap();
            
            // Note: Emergency banner visibility controlled by storm activity
            // Set to display: flex when storms approach within 600 miles
        });
    </script>
</body>
</html>
